PORT=4000
MONGODB_URI=mongodb://localhost:27017/tpchat
JWT_SECRET=change-me
REFRESH_SECRET=change-me-too
CLIENT_ORIGIN=http://localhost:5173

# Redis Configuration (optionnel - pour multi-instances)
USE_REDIS=false
REDIS_URL=redis://localhost:6379

# Socket.IO Configuration avancée
SOCKET_PING_TIMEOUT=60000
SOCKET_PING_INTERVAL=25000
SOCKET_MAX_BUFFER_SIZE=1000000
SOCKET_LOGGING=false
SOCKET_STATS_INTERVAL=300000

# ============================================
# SECTION 5 : MONITORING ET ALERTES
# ============================================

# --- Sentry Configuration ---
# DSN fourni par Sentry après création du projet
# Créer un compte sur https://sentry.io et créer un projet Node.js
SENTRY_DSN="https://305acc3d534f9e1d8f7259c05db46511@o4510317912522752.ingest.de.sentry.io/4510426321649744"

# Taux d'échantillonnage pour les traces (0.0 à 1.0)
# 0.1 = 10% des requêtes sont tracées
SENTRY_TRACES_SAMPLE_RATE=0.1

# Taux d'échantillonnage pour le profiling (0.0 à 1.0)
# 0.1 = 10% des transactions sont profilées
SENTRY_PROFILES_SAMPLE_RATE=0.1

# --- Email Configuration (pour les alertes email) ---
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASSWORD=
EMAIL_FROM=noreply@whatsapp-hardcore.com

# --- Geolocation Service (pour détection de nouvelles localisations) ---
# API gratuite : https://ipapi.co/
GEOLOCATION_API_KEY=

# ============================================
# CONFIGURATION DES LOGS
# ============================================

# Niveau de log (error, warn, info, http, debug)
LOG_LEVEL=info

# Durée de conservation des logs (en jours)
LOG_RETENTION_DAYS=14

# Taille maximale d'un fichier de log (en MB)
LOG_MAX_SIZE=20

# ============================================
# SÉCURITÉ
# ============================================

# Nombre maximum de tentatives de connexion avant alerte
MAX_LOGIN_ATTEMPTS=5

# Durée de blocage après tentatives échouées (en minutes)
LOGIN_BLOCK_DURATION=15

# Nombre maximum de sessions actives par utilisateur
MAX_SESSIONS_PER_USER=5

